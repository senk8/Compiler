# 現在の作成状況

9ccで言うステップ１８までは完成している。（後述のようないくつか気になる点あり）

1. 変数の足し算を行う場合、インタプリタが命令を書き込む時に型を知るか、構文解析器が右オペランドがポインタ型であることをが知る必要がある。

2. 型をもたせた場合、式の型がどうなるのか、推測できない。ASTの段階で型をアノテーションとして持つ必要がある？例えば、この節より下なら型はintである、など。

# 注意

1. Blockとstmtが同じ非終端記号から呼び出される。非終端記号stmtからBlockが導出されるようになっている。これにより、stmtから導かれるもの全ての最後に行われているpop raxがblockの最後でも行われてしまう。今は行わないようになっている。例えば、blockの中で三回stmtがあれば各最後にpop raxが行われるが、blockもstmtだからblockでも行われるので余分になる。ここで、stmtのなかでもblockの最後だけpop raxしないこと。

2. rspを16の倍数にしていない.今は１６の倍数でなくても呼び出している。しかし今の所は失敗する気配がないのでそのままになっている。x86-64のABI仕様を読む必要があるかもしれない。
このことはステップ１４を参考にすること。(スタックに退避する方法でなんとかなる？らしい）